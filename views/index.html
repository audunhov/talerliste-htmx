{{block "index" .}}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Talerliste</title>
    <script
      src="https://unpkg.com/htmx.org@1.9.11"
      integrity="sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div>
      <h1>Deltakere:</h1>
      <div id="participants">{{template "participants" .Participants}}</div>
      <form
        hx-post="/participant"
        hx-swap="beforeend"
        hx-target="#participants"
      >
        <label for="name">Legg til ny person</label>
        <input type="text" name="name" value="" placeholder="Navn..." />
      </form>
    </div>
    <div>
      <h1>Innlegg:</h1>
      <div id="talks">{{template "talks" .TalkBlocks}}</div>
    </div>
  </body>
</html>
{{end}} {{block "participants" .}} {{range .}} {{template "participant" .}}
{{end}} {{end}} {{block "participant" .}}
<button hx-post="/talk/{{.Id}}" hx-target="#talks" hx-swap="beforeend">
  {{.Name}}
</button>
{{end}} {{block "talks" .}} {{range .}} {{template "talk" .}} {{end}} {{end}}
{{block "talk" .}}
<div id="talk-{{.Talk.Id}}">
  <span>{{.Participant.Name}}</span>
  <button
    hx-delete="/talk/{{.Talk.Id}}"
    hx-target="#talk-{{.Talk.Id}}"
    hx-swap="outerHTML"
  >
    X
  </button>
</div>
{{end}}
